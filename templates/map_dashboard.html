{% extends "base.html" %}

{% block title %}US Map Dashboard - Prospector{% endblock %}

{% block extra_head %}
<style>
    /* Simple map styles */
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
    }
    
    #map-container {
        height: 100vh;
        width: 100vw;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        background: #e9ecef;
        border: 5px solid #007bff;
    }
    
    #us-map {
        height: 100%;
        width: 100%;
        border: none;
    }
    
    .map-overlay {
        position: absolute;
        top: 20px;
        left: 20px;
        background: rgba(255,255,255,0.95);
        padding: 10px;
        border-radius: 4px;
        font-size: 16px;
        z-index: 1001;
        border: 2px solid #007bff;
        font-weight: bold;
    }
    
    .back-button {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255,255,255,0.95);
        padding: 10px;
        border-radius: 4px;
        font-size: 14px;
        z-index: 1001;
    }
</style>
{% endblock %}

{% block content %}
<div id="map-container">
    <div class="map-overlay">
        üó∫Ô∏è MAP TEST - GOOGLE MAPS
    </div>
    
    <iframe 
        id="us-map"
        src="https://www.google.com/maps/embed/v1/view?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&center=39.8283,-98.5795&zoom=4&maptype=roadmap"
        allowfullscreen>
    </iframe>
    
    <div class="back-button">
        <a href="{{ url_for('index') }}" class="btn btn-sm btn-outline-secondary">Back to Dashboard</a>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
console.log('Google Maps test - loading...');

document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, Google Maps iframe should be visible');
    
    // Add a simple test to confirm the iframe loaded
    const mapIframe = document.getElementById('us-map');
    mapIframe.onload = function() {
        console.log('Google Maps iframe loaded successfully');
    };
    
    mapIframe.onerror = function() {
        console.error('Failed to load Google Maps iframe');
    };
});
</script>
{% endblock %}
